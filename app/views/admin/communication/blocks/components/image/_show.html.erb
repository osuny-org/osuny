<%
blob = component.blob
return unless blob
is_carousel = block.template.is_a?(Communication::Block::Template::Gallery) && block.template.layout == "carousel"
only_image = local_assigns[:only_image]
%>

<% if only_image %>
  <%= kamifusen_tag blob, width: 600, class: 'img-fluid mb-1', alt: component.template.try(:alt).blank? ? "" : component.template.alt %>
<% else %>
  <figure <% if is_carousel %>class="splide__slide"<% end %>>
    <%= kamifusen_tag blob, width: 600, class: 'img-fluid mb-1', alt: component.template.try(:alt).blank? ? "" : component.template.alt %>
    <figcaption>
      <%= sanitize component.template.credit if component.template.try(:credit).present? %>
    </figcaption>
  </figure>
<% end %>