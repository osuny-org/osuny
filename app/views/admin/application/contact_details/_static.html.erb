<% 
depth ||= 1
indentation = '  ' * depth
%>
<%= indentation %>contact_details:
<%


# Postal address
%>
<%
if about.respond_to?(:address) %>
<%= render 'admin/application/static/postal_address', about: about, depth: depth+1 %>
<% end %>
<%


# Phone numbers
%>
<% if about.respond_to?(:phone_numbers) %>
<%= indentation %>  phone_numbers:
<% 
about.phone_numbers.each do |phone_number| 
  next if phone_number.blank?
  detail = ContactDetails::Phone.new phone_number
  %>
<%= indentation %>    - label: >-
<%= indentation %>        <%= detail.label %>
<%= indentation %>      value: >-
<%= indentation %>        <%= detail.value %>
<% end %>
<% end %>
<%


# Emails
%>
<% if about.respond_to?(:emails) %>
<%= indentation %>  emails:
<% 
about.emails.each do |email| 
  next if email.blank?
  detail = ContactDetails::Email.new email
  %>
<%= indentation %>    - label: >-
<%= indentation %>        <%= detail.label %>
<%= indentation %>      value: >-
<%= indentation %>        <%= detail.value %>
<% end %>
<% end %>
<%


# Social networks
%>
<%= indentation %>  social_networks:
<%
ContactDetails::SOCIAL_NETWORKS.each do |variable|
  method = "social_#{variable}"
  next unless about.respond_to?(method)
  data = about.send(method)
  next if data.blank?
  kind = "ContactDetails::#{variable.to_s.capitalize}".constantize
  %>
<%= render 'admin/application/contact_details/static_single',
            variable: variable, 
            data: data, 
            kind: kind,
            depth: depth+2 %>
<% end %>