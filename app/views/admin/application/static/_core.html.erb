<%
skip_date ||= false
show_date = about.respond_to?(:published_at) && !skip_date
show_published_at = about.respond_to?(:published_at)
if about.respond_to?(:slug) && about.slug.present? 
  forced_slug ||= nil
  slug = forced_slug || about.slug
end
previous_permalinks = about.previous_permalinks_in_website(@website)
show_hugo = @website && about.respond_to?(:hugo)
hugo = about.hugo(@website) if show_hugo
%>
<% if @website %>
url: "<%= about.current_permalink_in_website(@website)&.path %>"
<% if slug %>
slug: "<%= slug %>"
<% end %>
<% if previous_permalinks.any? %>
aliases:
<% previous_permalinks.each do |permalink| %>
  - <%= permalink.path %>
<% end %>
<% end %>
<% end %>
<% if show_date %>
date: <%= about.published_at&.iso8601 %>
<% end %>
lastmod: <%= about.updated_at&.iso8601 %>
meta:
<% if show_hugo %>
  hugo:
    permalink: "<%= hugo.permalink %>"
    file: "<%= hugo.file %>"
    path: "<%= hugo.path %>"
    slug: "<%= hugo.slug %>"
<% end %>
  dates:
    created_at: <%= about.created_at&.iso8601 %>
    updated_at: <%= about.updated_at&.iso8601 %>
  <% if show_published_at %>
    published_at: <%= about.published_at&.iso8601 %>
  <% end %>